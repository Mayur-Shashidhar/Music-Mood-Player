{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mayurshadhidhar/Documents/Music-Mood-Player/client/src/components/moodSelector.tsx"],"sourcesContent":["interface Mood {\n  name: string;\n  gradient: string;\n  bgColor: string;\n  description: string;\n}\n\nexport default function MoodSelect({\n  mood,\n  setMood,\n  moods,\n}: {\n  mood: string;\n  setMood: (val: string) => void;\n  moods: Mood[];\n}) {\n  return (\n    <div className=\"p-6 border-b border-zinc-800\">\n      <h2 className=\"text-xl font-bold mb-4\">Select Your Mood</h2>\n      <div className=\"grid grid-cols-2 gap-3\">\n        {moods.map((m) => (\n          <button\n            key={m.name}\n            onClick={() => setMood(m.name)}\n            className={`relative overflow-hidden rounded-lg p-4 transition-all ${\n              mood === m.name\n                ? \"ring-2 ring-white scale-105\"\n                : \"hover:scale-105\"\n            }`}\n          >\n            <div className={`absolute inset-0 bg-gradient-to-br ${m.gradient} ${mood === m.name ? 'opacity-100' : 'opacity-60'}`}></div>\n            <div className=\"relative z-10\">\n              <div className=\"text-sm font-bold mb-1\">{m.name}</div>\n              <div className=\"text-xs opacity-90 line-clamp-2\">{m.description}</div>\n            </div>\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAOe,SAAS,WAAW,EACjC,IAAI,EACJ,OAAO,EACP,KAAK,EAKN;IACC,qBACE,uMAAC;QAAI,WAAU;;0BACb,uMAAC;gBAAG,WAAU;0BAAyB;;;;;;0BACvC,uMAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,kBACV,uMAAC;wBAEC,SAAS,IAAM,QAAQ,EAAE,IAAI;wBAC7B,WAAW,CAAC,uDAAuD,EACjE,SAAS,EAAE,IAAI,GACX,gCACA,mBACJ;;0CAEF,uMAAC;gCAAI,WAAW,CAAC,mCAAmC,EAAE,EAAE,QAAQ,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,GAAG,gBAAgB,cAAc;;;;;;0CACpH,uMAAC;gCAAI,WAAU;;kDACb,uMAAC;wCAAI,WAAU;kDAA0B,EAAE,IAAI;;;;;;kDAC/C,uMAAC;wCAAI,WAAU;kDAAmC,EAAE,WAAW;;;;;;;;;;;;;uBAX5D,EAAE,IAAI;;;;;;;;;;;;;;;;AAkBvB;KAjCwB","debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/mayurshadhidhar/Documents/Music-Mood-Player/client/src/services/musicService.ts"],"sourcesContent":["// API service to fetch music from backend\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001';\n\nexport interface Track {\n  id: string;\n  title: string;\n  artist: string;\n  album: string;\n  duration: string;\n  audio?: string;\n  preview?: string;\n  audioDownload?: string;\n  image?: string;\n  source?: string;\n}\n\nexport const fetchTracksByMood = async (mood: string, limit: number = 20): Promise<Track[]> => {\n  try {\n    const response = await fetch(`${API_URL}/api/playlists/mood/${mood}?limit=${limit}`);\n    const data = await response.json();\n    \n    if (data.success && data.playlist?.tracks) {\n      return data.playlist.tracks.map((track: any) => ({\n        id: track.id,\n        title: track.title,\n        artist: track.artist,\n        album: track.album,\n        duration: track.duration,\n        audio: track.audio || track.preview,\n        preview: track.preview,\n        audioDownload: track.audioDownload,\n        image: track.image,\n        source: track.source\n      }));\n    }\n    return [];\n  } catch (error) {\n    console.error('Error fetching tracks by mood:', error);\n    return [];\n  }\n};\n\nexport const searchTracks = async (query: string, limit: number = 20): Promise<Track[]> => {\n  try {\n    const response = await fetch(`${API_URL}/api/search?q=${encodeURIComponent(query)}&limit=${limit}`);\n    const data = await response.json();\n    \n    if (data.success && data.results) {\n      return data.results.map((track: any) => ({\n        id: track.id,\n        title: track.title,\n        artist: track.artist,\n        album: track.album,\n        duration: track.duration,\n        audio: track.audio || track.preview,\n        preview: track.preview,\n        audioDownload: track.audioDownload,\n        image: track.image,\n        source: track.source\n      }));\n    }\n    return [];\n  } catch (error) {\n    console.error('Error searching tracks:', error);\n    return [];\n  }\n};\n\nexport const fetchTrendingTracks = async (limit: number = 20): Promise<Track[]> => {\n  try {\n    const response = await fetch(`${API_URL}/api/tracks/trending?limit=${limit}`);\n    const data = await response.json();\n    \n    if (data.success && data.tracks) {\n      return data.tracks.map((track: any) => ({\n        id: track.id,\n        title: track.title,\n        artist: track.artist,\n        album: track.album,\n        duration: track.duration,\n        audio: track.audio || track.preview,\n        preview: track.preview,\n        audioDownload: track.audioDownload,\n        image: track.image,\n        source: track.source\n      }));\n    }\n    return [];\n  } catch (error) {\n    console.error('Error fetching trending tracks:', error);\n    return [];\n  }\n};\n\n// Default tracks as fallback\nexport const allTracks: Track[] = [\n  { id: \"1\", title: \"Loading...\", artist: \"Please wait\", album: \"Fetching music\", duration: \"0:00\" },\n];\n"],"names":[],"mappings":"AAAA,0CAA0C;;;;;;;;;;;AAC1B;AAAhB,MAAM,UAAU,qLAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAe5C,MAAM,oBAAoB,OAAO,MAAc,QAAgB,EAAE;IACtE,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,oBAAoB,EAAE,KAAK,OAAO,EAAE,OAAO;QACnF,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,KAAK,OAAO,IAAI,KAAK,QAAQ,EAAE,QAAQ;YACzC,OAAO,KAAK,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,QAAe,CAAC;oBAC/C,IAAI,MAAM,EAAE;oBACZ,OAAO,MAAM,KAAK;oBAClB,QAAQ,MAAM,MAAM;oBACpB,OAAO,MAAM,KAAK;oBAClB,UAAU,MAAM,QAAQ;oBACxB,OAAO,MAAM,KAAK,IAAI,MAAM,OAAO;oBACnC,SAAS,MAAM,OAAO;oBACtB,eAAe,MAAM,aAAa;oBAClC,OAAO,MAAM,KAAK;oBAClB,QAAQ,MAAM,MAAM;gBACtB,CAAC;QACH;QACA,OAAO,EAAE;IACX,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO,EAAE;IACX;AACF;AAEO,MAAM,eAAe,OAAO,OAAe,QAAgB,EAAE;IAClE,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,cAAc,EAAE,mBAAmB,OAAO,OAAO,EAAE,OAAO;QAClG,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,KAAK,OAAO,IAAI,KAAK,OAAO,EAAE;YAChC,OAAO,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,QAAe,CAAC;oBACvC,IAAI,MAAM,EAAE;oBACZ,OAAO,MAAM,KAAK;oBAClB,QAAQ,MAAM,MAAM;oBACpB,OAAO,MAAM,KAAK;oBAClB,UAAU,MAAM,QAAQ;oBACxB,OAAO,MAAM,KAAK,IAAI,MAAM,OAAO;oBACnC,SAAS,MAAM,OAAO;oBACtB,eAAe,MAAM,aAAa;oBAClC,OAAO,MAAM,KAAK;oBAClB,QAAQ,MAAM,MAAM;gBACtB,CAAC;QACH;QACA,OAAO,EAAE;IACX,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACX;AACF;AAEO,MAAM,sBAAsB,OAAO,QAAgB,EAAE;IAC1D,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,2BAA2B,EAAE,OAAO;QAC5E,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,KAAK,OAAO,IAAI,KAAK,MAAM,EAAE;YAC/B,OAAO,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,QAAe,CAAC;oBACtC,IAAI,MAAM,EAAE;oBACZ,OAAO,MAAM,KAAK;oBAClB,QAAQ,MAAM,MAAM;oBACpB,OAAO,MAAM,KAAK;oBAClB,UAAU,MAAM,QAAQ;oBACxB,OAAO,MAAM,KAAK,IAAI,MAAM,OAAO;oBACnC,SAAS,MAAM,OAAO;oBACtB,eAAe,MAAM,aAAa;oBAClC,OAAO,MAAM,KAAK;oBAClB,QAAQ,MAAM,MAAM;gBACtB,CAAC;QACH;QACA,OAAO,EAAE;IACX,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,OAAO,EAAE;IACX;AACF;AAGO,MAAM,YAAqB;IAChC;QAAE,IAAI;QAAK,OAAO;QAAc,QAAQ;QAAe,OAAO;QAAkB,UAAU;IAAO;CAClG","debugId":null}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///Users/mayurshadhidhar/Documents/Music-Mood-Player/client/src/services/authService.ts"],"sourcesContent":["const API_URL = 'http://localhost:5001/api';\n\n// Get auth token from localStorage\nconst getToken = (): string | null => {\n  if (typeof window !== 'undefined') {\n    return localStorage.getItem('token');\n  }\n  return null;\n};\n\n// Auth headers with token\nconst authHeaders = () => {\n  const token = getToken();\n  return {\n    'Content-Type': 'application/json',\n    ...(token && { Authorization: `Bearer ${token}` }),\n  };\n};\n\n// Get current user\nexport const getCurrentUser = async () => {\n  const response = await fetch(`${API_URL}/auth/me`, {\n    headers: authHeaders(),\n  });\n  if (!response.ok) throw new Error('Failed to get user');\n  return response.json();\n};\n\n// Logout\nexport const logout = () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('user');\n};\n\n// User Playlists\nexport const getUserPlaylists = async () => {\n  const response = await fetch(`${API_URL}/user/playlists`, {\n    headers: authHeaders(),\n  });\n  if (!response.ok) throw new Error('Failed to fetch playlists');\n  const data = await response.json();\n  return data.playlists;\n};\n\nexport const createPlaylist = async (name: string) => {\n  const response = await fetch(`${API_URL}/user/playlists`, {\n    method: 'POST',\n    headers: authHeaders(),\n    body: JSON.stringify({ name }),\n  });\n  if (!response.ok) throw new Error('Failed to create playlist');\n  return response.json();\n};\n\nexport const deletePlaylist = async (playlistId: string) => {\n  const response = await fetch(`${API_URL}/user/playlists/${playlistId}`, {\n    method: 'DELETE',\n    headers: authHeaders(),\n  });\n  if (!response.ok) throw new Error('Failed to delete playlist');\n  return response.json();\n};\n\nexport const addTrackToPlaylist = async (playlistId: string, track: any) => {\n  const response = await fetch(`${API_URL}/user/playlists/${playlistId}/tracks`, {\n    method: 'POST',\n    headers: authHeaders(),\n    body: JSON.stringify(track),\n  });\n  if (!response.ok) throw new Error('Failed to add track');\n  return response.json();\n};\n\nexport const removeTrackFromPlaylist = async (playlistId: string, trackId: string) => {\n  const response = await fetch(`${API_URL}/user/playlists/${playlistId}/tracks/${trackId}`, {\n    method: 'DELETE',\n    headers: authHeaders(),\n  });\n  if (!response.ok) throw new Error('Failed to remove track');\n  return response.json();\n};\n\n// Liked Songs\nexport const getLikedSongs = async () => {\n  const response = await fetch(`${API_URL}/user/liked-songs`, {\n    headers: authHeaders(),\n  });\n  if (!response.ok) throw new Error('Failed to fetch liked songs');\n  const data = await response.json();\n  return data.likedSongs;\n};\n\nexport const likeSong = async (track: any) => {\n  const response = await fetch(`${API_URL}/user/liked-songs`, {\n    method: 'POST',\n    headers: authHeaders(),\n    body: JSON.stringify(track),\n  });\n  if (!response.ok) throw new Error('Failed to like song');\n  return response.json();\n};\n\nexport const unlikeSong = async (trackId: string) => {\n  const response = await fetch(`${API_URL}/user/liked-songs/${trackId}`, {\n    method: 'DELETE',\n    headers: authHeaders(),\n  });\n  if (!response.ok) throw new Error('Failed to unlike song');\n  return response.json();\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":["file:///Users/mayurshadhidhar/Documents/Music-Mood-Player/client/src/components/dashboard.tsx"],"sourcesContent":["// components/Dashboard.tsx\n\"use client\";\nimport { Search, Home, Clock, Play, Plus, X, Check, Heart } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport { Track } from \"@/data/tracks\";\nimport { searchTracks } from \"@/services/musicService\";\nimport { \n  getUserPlaylists,\n  createPlaylist as apiCreatePlaylist,\n  deletePlaylist as apiDeletePlaylist,\n  addTrackToPlaylist as apiAddTrackToPlaylist,\n  removeTrackFromPlaylist as apiRemoveTrackFromPlaylist,\n} from \"@/services/authService\";\n\ninterface Mood {\n  name: string;\n  gradient: string;\n  bgColor: string;\n  description: string;\n}\n\ninterface UserPlaylist {\n  id: number;\n  name: string;\n  tracks: Track[];\n  createdAt: Date;\n}\n\nexport default function Dashboard({ \n  mood, \n  onTrackSelect, \n  onPlayPlaylist, \n  allTracks, \n  likedSongs,\n  likedSongsTracks,\n  onToggleLike,\n  user,\n  onShowAuth,\n  onLogout,\n}: { \n  mood: Mood; \n  onTrackSelect: (track: Track) => void;\n  onPlayPlaylist: (tracks: Track[]) => void;\n  allTracks: Track[];\n  likedSongs: Set<string>;\n  likedSongsTracks: Track[];\n  onToggleLike: (trackId: string) => void;\n  user: any;\n  onShowAuth: () => void;\n  onLogout: () => void;\n}) {\n  const [activeView, setActiveView] = useState<\"home\" | \"search\" | \"playlist\" | \"user-playlist\" | \"liked\">(\"home\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState<Track[]>([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [loadingPlaylist, setLoadingPlaylist] = useState<number | null>(null);\n  const [selectedPlaylist, setSelectedPlaylist] = useState<{\n    name: string;\n    description: string;\n    gradient: string;\n    tracks: Track[];\n  } | null>(null);\n  \n  // User playlist states\n  const [userPlaylists, setUserPlaylists] = useState<UserPlaylist[]>([]);\n  const [showCreatePlaylist, setShowCreatePlaylist] = useState(false);\n  const [newPlaylistName, setNewPlaylistName] = useState(\"\");\n  const [selectedUserPlaylist, setSelectedUserPlaylist] = useState<UserPlaylist | null>(null);\n  const [showAddToPlaylist, setShowAddToPlaylist] = useState<Track | null>(null);\n\n  // Load user playlists when user logs in\n  useEffect(() => {\n    const loadUserPlaylists = async () => {\n      if (user) {\n        try {\n          const playlists = await getUserPlaylists();\n          setUserPlaylists(playlists.map((p: any) => ({\n            ...p,\n            id: Number(p.id),\n            createdAt: new Date(p.createdAt),\n          })));\n        } catch (error) {\n          console.error('Error loading playlists:', error);\n        }\n      } else {\n        setUserPlaylists([]);\n      }\n    };\n    loadUserPlaylists();\n  }, [user]);\n\n  // Debounced search\n  useEffect(() => {\n    if (searchQuery.trim().length === 0) {\n      setSearchResults([]);\n      setIsSearching(false);\n      return;\n    }\n\n    setIsSearching(true);\n    const timeoutId = setTimeout(async () => {\n      const results = await searchTracks(searchQuery, 20);\n      setSearchResults(results);\n      setIsSearching(false);\n    }, 500); // Wait 500ms after user stops typing\n\n    return () => clearTimeout(timeoutId);\n  }, [searchQuery]);\n\n  // Switch to search view when user types\n  useEffect(() => {\n    if (searchQuery.trim().length > 0) {\n      setActiveView(\"search\");\n    }\n  }, [searchQuery]);\n\n  // Curated playlists based on mood\n  const getCuratedPlaylists = (currentMood: string) => {\n    const playlistsByMood: { [key: string]: any[] } = {\n      'Happy': [\n        { id: 1, name: \"Happy Vibes Mix\", description: \"Upbeat tracks to brighten your day\", gradient: \"from-yellow-300 via-yellow-400 to-amber-500\" },\n        { id: 2, name: \"Energy Boost\", description: \"High energy music for motivation\", gradient: \"from-orange-400 via-yellow-400 to-amber-400\" },\n        { id: 3, name: \"Feel Good Playlist\", description: \"Songs that make you smile\", gradient: \"from-amber-400 via-yellow-300 to-yellow-500\" },\n        { id: 4, name: \"Sunshine Mix\", description: \"Bright and cheerful tunes\", gradient: \"from-yellow-400 via-amber-300 to-orange-400\" },\n        { id: 5, name: \"Dance Party\", description: \"Get moving with these beats\", gradient: \"from-yellow-500 via-orange-400 to-red-400\" },\n        { id: 6, name: \"Good Morning\", description: \"Start your day right\", gradient: \"from-amber-300 via-yellow-400 to-yellow-500\" },\n      ],\n      'Sad': [\n        { id: 1, name: \"Melancholic Moments\", description: \"Embrace your feelings\", gradient: \"from-blue-900 via-blue-700 to-blue-500\" },\n        { id: 2, name: \"Rainy Day Blues\", description: \"Perfect for introspective moods\", gradient: \"from-indigo-900 via-blue-800 to-blue-600\" },\n        { id: 3, name: \"Emotional Journey\", description: \"Deep and meaningful tracks\", gradient: \"from-blue-800 via-blue-600 to-indigo-500\" },\n        { id: 4, name: \"Quiet Reflection\", description: \"Time for contemplation\", gradient: \"from-blue-700 via-indigo-600 to-purple-500\" },\n        { id: 5, name: \"Heartfelt Ballads\", description: \"Songs that touch the soul\", gradient: \"from-blue-900 via-purple-800 to-indigo-700\" },\n        { id: 6, name: \"Midnight Thoughts\", description: \"Late night listening\", gradient: \"from-indigo-900 via-blue-900 to-slate-800\" },\n      ],\n      'Chill': [\n        { id: 1, name: \"Chill Lounge\", description: \"Relaxed vibes for unwinding\", gradient: \"from-teal-600 via-green-600 to-emerald-700\" },\n        { id: 2, name: \"Ambient Dreams\", description: \"Atmospheric soundscapes\", gradient: \"from-emerald-700 via-teal-600 to-cyan-600\" },\n        { id: 3, name: \"Lazy Sunday\", description: \"Take it easy\", gradient: \"from-green-600 via-emerald-600 to-teal-600\" },\n        { id: 4, name: \"Coffee Shop Beats\", description: \"Background music for relaxation\", gradient: \"from-teal-700 via-green-700 to-emerald-800\" },\n        { id: 5, name: \"Nature Sounds\", description: \"Peaceful and calming\", gradient: \"from-emerald-600 via-green-500 to-teal-500\" },\n        { id: 6, name: \"Evening Wind Down\", description: \"End your day peacefully\", gradient: \"from-teal-800 via-emerald-700 to-green-700\" },\n      ],\n      'Focused': [\n        { id: 1, name: \"Deep Focus\", description: \"Concentration music\", gradient: \"from-purple-600 via-purple-500 to-pink-500\" },\n        { id: 2, name: \"Study Session\", description: \"Perfect for productivity\", gradient: \"from-indigo-600 via-purple-600 to-purple-500\" },\n        { id: 3, name: \"Work Mode\", description: \"Get things done\", gradient: \"from-purple-700 via-indigo-600 to-blue-600\" },\n        { id: 4, name: \"Classical Focus\", description: \"Timeless concentration aids\", gradient: \"from-purple-500 via-pink-500 to-rose-500\" },\n        { id: 5, name: \"Coding Flow\", description: \"Developer's soundtrack\", gradient: \"from-indigo-700 via-purple-700 to-fuchsia-600\" },\n        { id: 6, name: \"Meditation Mix\", description: \"Clear your mind\", gradient: \"from-purple-600 via-violet-600 to-purple-700\" },\n      ]\n    };\n\n    return playlistsByMood[currentMood] || playlistsByMood['Chill'];\n  };\n\n  const curatedPlaylists = getCuratedPlaylists(mood.name);\n  const recentlyPlayed: Track[] = allTracks.slice(0, 4);\n\n  // Map playlist names to search keywords for better results\n  const getPlaylistKeyword = (playlistName: string): string => {\n    const playlistKeywords: { [key: string]: string } = {\n      // Happy\n      'Happy Vibes Mix': 'happy upbeat',\n      'Energy Boost': 'energetic powerful',\n      'Feel Good Playlist': 'positive cheerful',\n      'Sunshine Mix': 'bright sunny',\n      'Dance Party': 'dance electronic',\n      'Good Morning': 'morning fresh',\n      \n      // Sad\n      'Melancholic Moments': 'melancholic emotional',\n      'Rainy Day Blues': 'sad blues',\n      'Emotional Journey': 'emotional ballad',\n      'Quiet Reflection': 'quiet ambient',\n      'Heartfelt Ballads': 'ballad heartfelt',\n      'Midnight Thoughts': 'night ambient',\n      \n      // Chill\n      'Chill Lounge': 'chill lounge',\n      'Ambient Dreams': 'ambient dreamy',\n      'Lazy Sunday': 'relaxing easy',\n      'Coffee Shop Beats': 'lofi chill',\n      'Nature Sounds': 'nature peaceful',\n      'Evening Wind Down': 'calm evening',\n      \n      // Focused\n      'Deep Focus': 'focus instrumental',\n      'Study Session': 'study concentration',\n      'Work Mode': 'productive work',\n      'Classical Focus': 'classical piano',\n      'Coding Flow': 'electronic ambient',\n      'Meditation Mix': 'meditation calm',\n    };\n    \n    return playlistKeywords[playlistName] || mood.name.toLowerCase();\n  };\n\n  // Handle playlist click - show playlist detail view\n  const handlePlaylistClick = async (playlist: any) => {\n    setLoadingPlaylist(playlist.id);\n    setActiveView(\"playlist\");\n    \n    const searchKeyword = getPlaylistKeyword(playlist.name);\n    \n    try {\n      const tracks = await searchTracks(searchKeyword, 30);\n      \n      if (tracks.length > 0) {\n        setSelectedPlaylist({\n          name: playlist.name,\n          description: playlist.description,\n          gradient: playlist.gradient,\n          tracks: tracks,\n        });\n        console.log(`‚úÖ Loaded ${tracks.length} tracks for \"${playlist.name}\"`);\n      } else {\n        console.log(`‚ö†Ô∏è No tracks found for \"${playlist.name}\", trying mood...`);\n        // Fallback to mood-based tracks\n        const moodTracks = await searchTracks(mood.name.toLowerCase(), 20);\n        if (moodTracks.length > 0) {\n          setSelectedPlaylist({\n            name: playlist.name,\n            description: playlist.description,\n            gradient: playlist.gradient,\n            tracks: moodTracks,\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Error loading playlist:', error);\n    } finally {\n      setLoadingPlaylist(null);\n    }\n  };\n\n  // Create new playlist\n  const handleCreatePlaylist = async () => {\n    if (newPlaylistName.trim() === \"\") return;\n    if (!user) {\n      onShowAuth();\n      return;\n    }\n    \n    try {\n      const result = await apiCreatePlaylist(newPlaylistName.trim());\n      const newPlaylist: UserPlaylist = {\n        id: Number(result.playlist.id),\n        name: result.playlist.name,\n        tracks: [],\n        createdAt: new Date(result.playlist.createdAt),\n      };\n      \n      setUserPlaylists([...userPlaylists, newPlaylist]);\n      setNewPlaylistName(\"\");\n      setShowCreatePlaylist(false);\n    } catch (error) {\n      console.error('Error creating playlist:', error);\n      alert('Failed to create playlist. Please try again.');\n    }\n  };\n\n  // Add track to playlist\n  const handleAddToPlaylist = async (playlistId: number, track: Track) => {\n    if (!user) {\n      onShowAuth();\n      return;\n    }\n\n    try {\n      await apiAddTrackToPlaylist(playlistId.toString(), track);\n      \n      // Update local state\n      setUserPlaylists(userPlaylists.map(playlist => {\n        if (playlist.id === playlistId) {\n          // Check if track already exists\n          if (!playlist.tracks.find(t => t.id === track.id)) {\n            return { ...playlist, tracks: [...playlist.tracks, track] };\n          }\n        }\n        return playlist;\n      }));\n      setShowAddToPlaylist(null);\n    } catch (error) {\n      console.error('Error adding track:', error);\n      alert('Failed to add track. It may already be in the playlist.');\n    }\n  };\n\n  // Remove track from playlist\n  const handleRemoveFromPlaylist = async (playlistId: number, trackId: string) => {\n    if (!user) return;\n\n    try {\n      await apiRemoveTrackFromPlaylist(playlistId.toString(), trackId);\n      \n      const updatedPlaylists = userPlaylists.map(playlist => {\n        if (playlist.id === playlistId) {\n          return { ...playlist, tracks: playlist.tracks.filter(t => t.id !== trackId) };\n        }\n        return playlist;\n      });\n      setUserPlaylists(updatedPlaylists);\n      \n      // Update selected playlist if it's currently being viewed\n      if (selectedUserPlaylist?.id === playlistId) {\n        const updatedPlaylist = updatedPlaylists.find(p => p.id === playlistId);\n        if (updatedPlaylist) {\n          setSelectedUserPlaylist(updatedPlaylist);\n        }\n      }\n    } catch (error) {\n      console.error('Error removing track:', error);\n    }\n  };\n\n  // Delete playlist\n  const handleDeletePlaylist = async (playlistId: number) => {\n    if (!user) return;\n\n    try {\n      await apiDeletePlaylist(playlistId.toString());\n      \n      setUserPlaylists(userPlaylists.filter(p => p.id !== playlistId));\n      if (selectedUserPlaylist?.id === playlistId) {\n        setSelectedUserPlaylist(null);\n        setActiveView(\"home\");\n      }\n    } catch (error) {\n      console.error('Error deleting playlist:', error);\n      alert('Failed to delete playlist. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"flex flex-1 overflow-hidden relative\">\n      {/* Create Playlist Modal */}\n      {showCreatePlaylist && (\n        <div className=\"absolute inset-0 bg-black/80 z-50 flex items-center justify-center\">\n          <div className=\"bg-zinc-900 rounded-lg p-6 w-96\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-2xl font-bold\">Create Playlist</h2>\n              <button \n                onClick={() => {\n                  setShowCreatePlaylist(false);\n                  setNewPlaylistName(\"\");\n                }}\n                className=\"text-zinc-400 hover:text-white\"\n              >\n                <X size={24} />\n              </button>\n            </div>\n            <input\n              type=\"text\"\n              placeholder=\"My Playlist\"\n              value={newPlaylistName}\n              onChange={(e) => setNewPlaylistName(e.target.value)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') handleCreatePlaylist();\n                if (e.key === 'Escape') {\n                  setShowCreatePlaylist(false);\n                  setNewPlaylistName(\"\");\n                }\n              }}\n              autoFocus\n              className=\"w-full bg-zinc-800 rounded px-4 py-3 text-white placeholder-zinc-500 outline-none focus:ring-2 focus:ring-white mb-4\"\n            />\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => {\n                  setShowCreatePlaylist(false);\n                  setNewPlaylistName(\"\");\n                }}\n                className=\"flex-1 py-2 px-4 bg-zinc-800 hover:bg-zinc-700 rounded-full font-semibold transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleCreatePlaylist}\n                disabled={newPlaylistName.trim() === \"\"}\n                className=\"flex-1 py-2 px-4 bg-white text-black hover:scale-105 rounded-full font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100\"\n              >\n                Create\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add to Playlist Modal */}\n      {showAddToPlaylist && (\n        <div className=\"absolute inset-0 bg-black/80 z-50 flex items-center justify-center\">\n          <div className=\"bg-zinc-900 rounded-lg p-6 w-96 max-h-96 flex flex-col\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-xl font-bold\">Add to Playlist</h2>\n              <button \n                onClick={() => setShowAddToPlaylist(null)}\n                className=\"text-zinc-400 hover:text-white\"\n              >\n                <X size={24} />\n              </button>\n            </div>\n            {userPlaylists.length === 0 ? (\n              <div className=\"text-center text-zinc-400 py-8\">\n                <p className=\"mb-4\">You don&apos;t have any playlists yet</p>\n                <button\n                  onClick={() => {\n                    setShowAddToPlaylist(null);\n                    setShowCreatePlaylist(true);\n                  }}\n                  className=\"py-2 px-6 bg-white text-black hover:scale-105 rounded-full font-semibold transition-all\"\n                >\n                  Create Playlist\n                </button>\n              </div>\n            ) : (\n              <div className=\"overflow-y-auto flex-1\">\n                {userPlaylists.map((playlist) => (\n                  <button\n                    key={playlist.id}\n                    onClick={() => handleAddToPlaylist(playlist.id, showAddToPlaylist)}\n                    className=\"w-full text-left p-3 hover:bg-zinc-800 rounded transition-colors flex items-center justify-between\"\n                  >\n                    <div>\n                      <div className=\"font-semibold\">{playlist.name}</div>\n                      <div className=\"text-sm text-zinc-400\">{playlist.tracks.length} songs</div>\n                    </div>\n                    {playlist.tracks.find(t => t.id === showAddToPlaylist.id) && (\n                      <Check size={20} className=\"text-green-500\" />\n                    )}\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Sidebar */}\n      {/* Sidebar */}\n      <div className=\"w-64 bg-black p-6 flex flex-col gap-6\">\n        <div className=\"flex flex-col gap-4\">\n          <button \n            onClick={() => {\n              setActiveView(\"home\");\n              setSearchQuery(\"\");\n              setSelectedPlaylist(null);\n              setSelectedUserPlaylist(null);\n            }}\n            className={`flex items-center gap-4 transition-colors ${\n              activeView === \"home\" ? \"text-white\" : \"text-zinc-400 hover:text-white\"\n            }`}\n          >\n            <Home size={24} />\n            <span className=\"font-semibold\">Home</span>\n          </button>\n          <button \n            onClick={() => {\n              setActiveView(\"search\");\n              setSelectedPlaylist(null);\n              setSelectedUserPlaylist(null);\n            }}\n            className={`flex items-center gap-4 transition-colors ${\n              activeView === \"search\" ? \"text-white\" : \"text-zinc-400 hover:text-white\"\n            }`}\n          >\n            <Search size={24} />\n            <span className=\"font-semibold\">Search</span>\n          </button>\n          <button \n            onClick={() => {\n              if (!user) {\n                onShowAuth();\n                return;\n              }\n              setActiveView(\"liked\");\n              setSelectedPlaylist(null);\n              setSelectedUserPlaylist(null);\n            }}\n            className={`flex items-center gap-4 transition-colors ${\n              activeView === \"liked\" ? \"text-white\" : \"text-zinc-400 hover:text-white\"\n            }`}\n          >\n            <Heart size={24} className={activeView === \"liked\" ? \"fill-white\" : \"\"} />\n            <span className=\"font-semibold\">Liked Songs</span>\n          </button>\n        </div>\n\n        {/* Auth Section */}\n        <div className=\"border-t border-zinc-800 pt-4\">\n          {user ? (\n            <div className=\"space-y-3\">\n              <div className=\"px-2\">\n                <p className=\"text-sm text-zinc-400\">Signed in as</p>\n                <p className=\"font-semibold truncate\">{user.name}</p>\n                <p className=\"text-xs text-zinc-500 truncate\">{user.email}</p>\n              </div>\n              <button \n                onClick={onLogout}\n                className=\"w-full text-left px-2 py-2 text-sm text-zinc-400 hover:text-white hover:bg-zinc-800 rounded transition-colors\"\n              >\n                Logout\n              </button>\n            </div>\n          ) : (\n            <button \n              onClick={onShowAuth}\n              className=\"w-full px-4 py-3 bg-white text-black font-semibold rounded-full hover:scale-105 transition-transform\"\n            >\n              Login / Sign Up\n            </button>\n          )}\n        </div>\n\n        <div className=\"border-t border-zinc-800 pt-4\">\n          <button \n            onClick={() => {\n              if (!user) {\n                onShowAuth();\n                return;\n              }\n              setShowCreatePlaylist(true);\n            }}\n            className=\"flex items-center gap-4 text-zinc-400 hover:text-white transition-colors w-full\"\n          >\n            <Plus size={24} />\n            <span className=\"font-semibold\">Create Playlist</span>\n          </button>\n        </div>\n\n        {/* User Playlists */}\n        {userPlaylists.length > 0 && (\n          <div className=\"border-t border-zinc-800 pt-4 flex-1 overflow-y-auto\">\n            <h3 className=\"text-xs font-semibold text-zinc-400 mb-3 uppercase tracking-wide\">Your Playlists</h3>\n            <div className=\"flex flex-col gap-2\">\n              {userPlaylists.map((playlist) => (\n                <button\n                  key={playlist.id}\n                  onClick={() => {\n                    setSelectedUserPlaylist(playlist);\n                    setActiveView(\"user-playlist\");\n                    setSelectedPlaylist(null);\n                  }}\n                  className={`text-left text-sm transition-colors p-2 rounded ${\n                    selectedUserPlaylist?.id === playlist.id \n                      ? \"bg-zinc-800 text-white\" \n                      : \"text-zinc-400 hover:text-white\"\n                  }`}\n                >\n                  <div className=\"font-semibold\">{playlist.name}</div>\n                  <div className=\"text-xs text-zinc-500\">{playlist.tracks.length} songs</div>\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 bg-gradient-to-b from-zinc-900 to-black overflow-y-auto\">\n        {/* Header with Gradient - Only for Home and Search */}\n        {(activeView === \"home\" || activeView === \"search\") && (\n          <div className={`bg-gradient-to-b ${mood.gradient} p-8 pb-6`}>\n            {activeView === \"home\" ? (\n              <>\n                <h1 className=\"text-6xl font-bold mb-2 animate-text-reveal\">\n                  Welcome\n                </h1>\n                <p className=\"text-white/80 text-lg\">{mood.description}</p>\n              </>\n            ) : (\n              <>\n                <div className=\"flex items-center gap-4 mb-6\">\n                  <div className=\"relative flex-1 max-w-3xl\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"What do you want to listen to?\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      autoFocus\n                      className=\"w-full bg-white rounded-full px-12 py-3 text-black placeholder-zinc-600 outline-none focus:ring-2 focus:ring-white\"\n                    />\n                    <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-600\" size={20} />\n                    {searchQuery && (\n                      <button\n                        onClick={() => setSearchQuery(\"\")}\n                        className=\"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-600 hover:text-black\"\n                      >\n                        ‚úï\n                      </button>\n                    )}\n                  </div>\n                </div>\n                <h1 className=\"text-4xl font-bold mb-2\">Search</h1>\n                <p className=\"text-white/80\">Find your favorite songs, artists, and albums</p>\n              </>\n            )}\n          </div>\n        )}\n\n        {/* Content Sections */}\n        <div className=\"p-8 space-y-8\">\n          {/* Playlist Detail View */}\n          {activeView === \"playlist\" && selectedPlaylist && (\n            <>\n              <section>\n                <button\n                  onClick={() => {\n                    setActiveView(\"home\");\n                    setSelectedPlaylist(null);\n                  }}\n                  className=\"flex items-center gap-2 text-zinc-400 hover:text-white mb-6 transition-colors\"\n                >\n                  <span className=\"text-2xl\">‚Üê</span>\n                  <span>Back to Home</span>\n                </button>\n\n                <div className=\"flex items-start gap-6 mb-8\">\n                  <div className={`w-48 h-48 bg-gradient-to-br ${selectedPlaylist.gradient} rounded-lg shadow-2xl flex items-center justify-center flex-shrink-0`}>\n                    <div className=\"text-8xl\">üéµ</div>\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-semibold mb-2\">PLAYLIST</p>\n                    <h1 className=\"text-5xl font-bold mb-4\">{selectedPlaylist.name}</h1>\n                    <p className=\"text-zinc-400 mb-4\">{selectedPlaylist.description}</p>\n                    <p className=\"text-sm text-zinc-400\">{selectedPlaylist.tracks.length} songs</p>\n                    <button\n                      onClick={() => {\n                        onPlayPlaylist(selectedPlaylist.tracks);\n                      }}\n                      className=\"mt-6 bg-green-500 hover:bg-green-400 text-black font-semibold px-8 py-3 rounded-full flex items-center gap-2 transition-colors\"\n                    >\n                      <Play size={24} className=\"fill-black\" />\n                      Play\n                    </button>\n                  </div>\n                </div>\n\n                {/* Track List */}\n                <div className=\"space-y-1\">\n                  <div className=\"grid grid-cols-[50px_1fr_1fr_100px_50px_100px] gap-4 px-4 py-2 text-sm text-zinc-400 border-b border-zinc-800\">\n                    <div>#</div>\n                    <div>Title</div>\n                    <div>Album</div>\n                    <div>Duration</div>\n                    <div></div>\n                    <div></div>\n                  </div>\n                  {selectedPlaylist.tracks.map((track, index) => (\n                    <div\n                      key={track.id}\n                      className=\"grid grid-cols-[50px_1fr_1fr_100px_50px_100px] gap-4 px-4 py-3 rounded-lg hover:bg-zinc-800/50 group items-center\"\n                    >\n                      <div \n                        onClick={() => onTrackSelect(track)}\n                        className=\"cursor-pointer\"\n                      >\n                        <div className=\"text-zinc-400 group-hover:hidden\">{index + 1}</div>\n                        <Play size={16} className=\"hidden group-hover:block fill-white\" />\n                      </div>\n                      <div \n                        onClick={() => onTrackSelect(track)}\n                        className=\"flex flex-col min-w-0 cursor-pointer\"\n                      >\n                        <span className=\"font-semibold truncate\">{track.title}</span>\n                        <span className=\"text-sm text-zinc-400 truncate\">{track.artist}</span>\n                      </div>\n                      <div className=\"text-sm text-zinc-400 truncate\">{track.album}</div>\n                      <div className=\"text-sm text-zinc-400\">{track.duration}</div>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          onToggleLike(track.id);\n                        }}\n                        className=\"opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center\"\n                      >\n                        <Heart \n                          size={18} \n                          className={`transition-colors ${likedSongs.has(track.id) ? 'fill-green-500 text-green-500' : 'text-zinc-400 hover:text-white'}`}\n                        />\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setShowAddToPlaylist(track);\n                        }}\n                        className=\"opacity-0 group-hover:opacity-100 px-3 py-1 bg-zinc-700 hover:bg-zinc-600 rounded-full text-sm font-semibold transition-all\"\n                      >\n                        Add\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              </section>\n            </>\n          )}\n\n          {/* User Playlist View */}\n          {activeView === \"user-playlist\" && selectedUserPlaylist && (\n            <>\n              <section>\n                <button\n                  onClick={() => {\n                    setActiveView(\"home\");\n                    setSelectedUserPlaylist(null);\n                  }}\n                  className=\"flex items-center gap-2 text-zinc-400 hover:text-white mb-6 transition-colors\"\n                >\n                  <span className=\"text-2xl\">‚Üê</span>\n                  <span>Back to Home</span>\n                </button>\n\n                <div className=\"flex items-start gap-6 mb-8\">\n                  <div className={`w-48 h-48 bg-gradient-to-br ${mood.gradient} rounded-lg shadow-2xl flex items-center justify-center flex-shrink-0`}>\n                    <div className=\"text-8xl\">üìÅ</div>\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-semibold mb-2\">PLAYLIST</p>\n                    <h1 className=\"text-5xl font-bold mb-4\">{selectedUserPlaylist.name}</h1>\n                    <p className=\"text-zinc-400 mb-4\">Created by you</p>\n                    <p className=\"text-sm text-zinc-400\">{selectedUserPlaylist.tracks.length} songs</p>\n                    <div className=\"flex gap-4 mt-6\">\n                      {selectedUserPlaylist.tracks.length > 0 && (\n                        <button\n                          onClick={() => {\n                            onPlayPlaylist(selectedUserPlaylist.tracks);\n                          }}\n                          className=\"bg-green-500 hover:bg-green-400 text-black font-semibold px-8 py-3 rounded-full flex items-center gap-2 transition-colors\"\n                        >\n                          <Play size={24} className=\"fill-black\" />\n                          Play\n                        </button>\n                      )}\n                      <button\n                        onClick={() => {\n                          if (confirm(`Delete \"${selectedUserPlaylist.name}\"?`)) {\n                            handleDeletePlaylist(selectedUserPlaylist.id);\n                          }\n                        }}\n                        className=\"bg-zinc-800 hover:bg-zinc-700 text-white font-semibold px-6 py-3 rounded-full transition-colors\"\n                      >\n                        Delete Playlist\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Track List */}\n                {selectedUserPlaylist.tracks.length > 0 ? (\n                  <div className=\"space-y-1\">\n                    <div className=\"grid grid-cols-[50px_1fr_1fr_100px_50px_100px] gap-4 px-4 py-2 text-sm text-zinc-400 border-b border-zinc-800\">\n                      <div>#</div>\n                      <div>Title</div>\n                      <div>Album</div>\n                      <div>Duration</div>\n                      <div></div>\n                      <div></div>\n                    </div>\n                    {selectedUserPlaylist.tracks.map((track, index) => (\n                      <div\n                        key={track.id}\n                        className=\"grid grid-cols-[50px_1fr_1fr_100px_50px_100px] gap-4 px-4 py-3 rounded-lg hover:bg-zinc-800/50 group items-center\"\n                      >\n                        <div \n                          onClick={() => onTrackSelect(track)}\n                          className=\"cursor-pointer\"\n                        >\n                          <div className=\"text-zinc-400 group-hover:hidden\">{index + 1}</div>\n                          <Play size={16} className=\"hidden group-hover:block fill-white\" />\n                        </div>\n                        <div \n                          onClick={() => onTrackSelect(track)}\n                          className=\"flex flex-col min-w-0 cursor-pointer\"\n                        >\n                          <span className=\"font-semibold truncate\">{track.title}</span>\n                          <span className=\"text-sm text-zinc-400 truncate\">{track.artist}</span>\n                        </div>\n                        <div className=\"text-sm text-zinc-400 truncate\">{track.album}</div>\n                        <div className=\"text-sm text-zinc-400\">{track.duration}</div>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            onToggleLike(track.id);\n                          }}\n                          className=\"opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center\"\n                        >\n                          <Heart \n                            size={18} \n                            className={`transition-colors ${likedSongs.has(track.id) ? 'fill-green-500 text-green-500' : 'text-zinc-400 hover:text-white'}`}\n                          />\n                        </button>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleRemoveFromPlaylist(selectedUserPlaylist.id, track.id);\n                          }}\n                          className=\"opacity-0 group-hover:opacity-100 px-3 py-1 bg-red-700 hover:bg-red-600 rounded-full text-sm font-semibold transition-all\"\n                        >\n                          Remove\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"text-center py-12 text-zinc-400\">\n                    <Plus size={64} className=\"mx-auto mb-4 opacity-30\" />\n                    <p className=\"text-lg mb-2\">This playlist is empty</p>\n                    <p className=\"text-sm\">Search for songs and add them to this playlist</p>\n                  </div>\n                )}\n              </section>\n            </>\n          )}\n\n          {/* Search View */}\n          {activeView === \"search\" && (\n            <>\n              {searchQuery.trim().length === 0 ? (\n                /* Search Browse - Show when no query */\n                <section>\n                  <h2 className=\"text-2xl font-bold mb-6\">Browse all</h2>\n                  <div className=\"grid grid-cols-4 gap-4\">\n                    {[\n                      { name: \"Pop\", gradient: \"from-pink-500 to-purple-500\" },\n                      { name: \"Rock\", gradient: \"from-red-500 to-orange-500\" },\n                      { name: \"Hip-Hop\", gradient: \"from-yellow-500 to-orange-600\" },\n                      { name: \"Jazz\", gradient: \"from-blue-500 to-indigo-500\" },\n                      { name: \"Classical\", gradient: \"from-purple-500 to-pink-500\" },\n                      { name: \"Electronic\", gradient: \"from-cyan-500 to-blue-500\" },\n                      { name: \"Indie\", gradient: \"from-green-500 to-teal-500\" },\n                      { name: \"R&B\", gradient: \"from-red-400 to-pink-500\" },\n                      { name: \"Country\", gradient: \"from-amber-500 to-yellow-500\" },\n                      { name: \"Latin\", gradient: \"from-orange-500 to-red-500\" },\n                      { name: \"Metal\", gradient: \"from-gray-700 to-gray-900\" },\n                      { name: \"Blues\", gradient: \"from-blue-600 to-blue-800\" },\n                    ].map((genre, i) => (\n                      <div\n                        key={i}\n                        onClick={() => setSearchQuery(genre.name)}\n                        className={`h-32 bg-gradient-to-br ${genre.gradient} rounded-lg p-4 cursor-pointer hover:scale-105 transition-transform flex items-end relative overflow-hidden`}\n                      >\n                        <span className=\"font-bold text-2xl relative z-10\">{genre.name}</span>\n                      </div>\n                    ))}\n                  </div>\n                </section>\n              ) : (\n                /* Search Results */\n                <section>\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h2 className=\"text-2xl font-bold\">\n                      {isSearching ? \"Searching...\" : `Results for \"${searchQuery}\"`}\n                    </h2>\n                    {searchResults.length > 0 && (\n                      <span className=\"text-sm text-zinc-400\">{searchResults.length} tracks found</span>\n                    )}\n                  </div>\n                  \n                  {isSearching ? (\n                    <div className=\"flex items-center justify-center py-12\">\n                      <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white\"></div>\n                    </div>\n                  ) : searchResults.length > 0 ? (\n                    <div className=\"space-y-2\">\n                      {searchResults.map((track, index) => (\n                        <div\n                          key={track.id}\n                          className=\"flex items-center gap-4 p-3 rounded-lg hover:bg-zinc-800/50 group transition-all\"\n                        >\n                          <div \n                            onClick={() => onTrackSelect(track)}\n                            className=\"flex items-center justify-center w-10 h-10 bg-zinc-800 rounded group-hover:bg-green-500 transition-all cursor-pointer\"\n                          >\n                            <Play size={20} className=\"fill-white\" />\n                          </div>\n                          <div \n                            onClick={() => onTrackSelect(track)}\n                            className=\"flex-1 min-w-0 cursor-pointer\"\n                          >\n                            <h3 className=\"font-semibold truncate\">{track.title}</h3>\n                            <p className=\"text-sm text-zinc-400 truncate\">{track.artist}</p>\n                          </div>\n                          <div className=\"text-sm text-zinc-400 hidden md:block\">{track.album}</div>\n                          <div className=\"text-sm text-zinc-400\">{track.duration}</div>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              onToggleLike(track.id);\n                            }}\n                            className=\"opacity-0 group-hover:opacity-100 transition-all\"\n                          >\n                            <Heart \n                              size={20} \n                              className={`transition-colors ${likedSongs.has(track.id) ? 'fill-green-500 text-green-500' : 'text-zinc-400 hover:text-white'}`}\n                            />\n                          </button>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              setShowAddToPlaylist(track);\n                            }}\n                            className=\"opacity-0 group-hover:opacity-100 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-full text-sm font-semibold transition-all\"\n                          >\n                            Add\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-12 text-zinc-400\">\n                      <Search size={64} className=\"mx-auto mb-4 opacity-30\" />\n                      <p className=\"text-lg\">No results found for \"{searchQuery}\"</p>\n                      <p className=\"text-sm mt-2\">Try different keywords or check your spelling</p>\n                    </div>\n                  )}\n                </section>\n              )}\n            </>\n          )}\n\n          {/* Liked Songs View */}\n          {activeView === \"liked\" && (\n            <>\n              <section>\n                <button\n                  onClick={() => setActiveView(\"home\")}\n                  className=\"flex items-center gap-2 text-zinc-400 hover:text-white mb-6 transition-colors\"\n                >\n                  <span className=\"text-2xl\">‚Üê</span>\n                  <span>Back to Home</span>\n                </button>\n\n                <div className=\"flex items-start gap-6 mb-8\">\n                  <div className=\"w-48 h-48 bg-gradient-to-br from-purple-600 via-purple-500 to-pink-500 rounded-lg shadow-2xl flex items-center justify-center flex-shrink-0\">\n                    <Heart size={80} className=\"text-white fill-white\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-semibold mb-2\">PLAYLIST</p>\n                    <h1 className=\"text-5xl font-bold mb-4\">Liked Songs</h1>\n                    <p className=\"text-zinc-400 mb-4\">Your favorite tracks</p>\n                    <p className=\"text-sm text-zinc-400\">{likedSongsTracks.length} songs</p>\n                    {likedSongsTracks.length > 0 && (\n                      <button\n                        onClick={() => {\n                          if (likedSongsTracks.length > 0) {\n                            onTrackSelect(likedSongsTracks[0]);\n                          }\n                        }}\n                        className=\"mt-6 bg-green-500 hover:bg-green-400 text-black font-semibold px-8 py-3 rounded-full flex items-center gap-2 transition-colors\"\n                      >\n                        <Play size={24} className=\"fill-black\" />\n                        Play\n                      </button>\n                    )}\n                  </div>\n                </div>\n\n                {/* Track List */}\n                {likedSongsTracks.length > 0 ? (\n                  <div className=\"space-y-1\">\n                    <div className=\"grid grid-cols-[50px_1fr_1fr_100px_100px] gap-4 px-4 py-2 text-sm text-zinc-400 border-b border-zinc-800\">\n                      <div>#</div>\n                      <div>Title</div>\n                      <div>Album</div>\n                      <div>Duration</div>\n                      <div></div>\n                    </div>\n                    {likedSongsTracks\n                      .map((track, index) => (\n                        <div\n                          key={track.id}\n                          className=\"grid grid-cols-[50px_1fr_1fr_100px_100px] gap-4 px-4 py-3 rounded-lg hover:bg-zinc-800/50 group items-center\"\n                        >\n                          <div \n                            onClick={() => onTrackSelect(track)}\n                            className=\"cursor-pointer\"\n                          >\n                            <div className=\"text-zinc-400 group-hover:hidden\">{index + 1}</div>\n                            <Play size={16} className=\"hidden group-hover:block fill-white\" />\n                          </div>\n                          <div \n                            onClick={() => onTrackSelect(track)}\n                            className=\"flex flex-col min-w-0 cursor-pointer\"\n                          >\n                            <span className=\"font-semibold truncate\">{track.title}</span>\n                            <span className=\"text-sm text-zinc-400 truncate\">{track.artist}</span>\n                          </div>\n                          <div className=\"text-sm text-zinc-400 truncate\">{track.album}</div>\n                          <div className=\"text-sm text-zinc-400\">{track.duration}</div>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              onToggleLike(track.id);\n                            }}\n                            className=\"opacity-0 group-hover:opacity-100 px-3 py-1 rounded-full text-sm font-semibold transition-all flex items-center gap-1\"\n                          >\n                            <Heart size={16} className=\"fill-red-500 text-red-500\" />\n                          </button>\n                        </div>\n                      ))}\n                  </div>\n                ) : (\n                  <div className=\"text-center py-12 text-zinc-400\">\n                    <Heart size={64} className=\"mx-auto mb-4 opacity-30\" />\n                    <p className=\"text-lg mb-2\">No liked songs yet</p>\n                    <p className=\"text-sm\">Songs you like will appear here</p>\n                  </div>\n                )}\n              </section>\n            </>\n          )}\n\n          {/* Home View */}\n          {activeView === \"home\" && (\n            <>\n              {/* Curated Playlists for Current Mood */}\n              <section>\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h2 className=\"text-2xl font-bold\">{mood.name} Playlists</h2>\n                  <button className=\"text-sm font-semibold text-zinc-400 hover:text-white\">Show all</button>\n                </div>\n                <div className=\"grid grid-cols-3 gap-4\">\n                  {curatedPlaylists.map((playlist) => (\n                    <div\n                      key={playlist.id}\n                      onClick={() => handlePlaylistClick(playlist)}\n                      className=\"bg-zinc-800/40 hover:bg-zinc-800 p-4 rounded-lg transition-all cursor-pointer group relative\"\n                    >\n                      <div className={`w-full aspect-square bg-gradient-to-br ${playlist.gradient} rounded-lg mb-4 shadow-lg flex items-center justify-center relative overflow-hidden`}>\n                        {loadingPlaylist === playlist.id ? (\n                          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white\"></div>\n                        ) : (\n                          <>\n                            <div className=\"text-6xl opacity-50\">üéµ</div>\n                            <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                              <Play size={48} className=\"fill-white\" />\n                            </div>\n                          </>\n                        )}\n                      </div>\n                      <h3 className=\"font-semibold mb-1 truncate\">{playlist.name}</h3>\n                      <p className=\"text-sm text-zinc-400 truncate\">{playlist.description}</p>\n                    </div>\n                  ))}\n                </div>\n              </section>\n\n              {/* Current Mood Tracks */}\n              <section>\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h2 className=\"text-2xl font-bold\">Your {mood.name} Mix</h2>\n                  <button className=\"text-sm font-semibold text-zinc-400 hover:text-white\">See all</button>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  {allTracks.slice(0, 6).map((track) => {\n                    console.log('Your Mix track:', track.title, 'has image:', !!track.image, track.image?.substring(0, 50) + '...');\n                    return (\n                    <div\n                      key={track.id}\n                      className=\"flex items-center gap-4 bg-zinc-800/40 hover:bg-zinc-800 p-3 rounded-lg transition-all group relative\"\n                    >\n                      <div \n                        onClick={() => onTrackSelect(track)}\n                        className={`w-16 h-16 bg-gradient-to-br ${mood.gradient} rounded flex-shrink-0 overflow-hidden relative cursor-pointer`}\n                      >\n                        {track.image ? (\n                          <>\n                            <img \n                              src={track.image} \n                              alt={track.title}\n                              className=\"w-full h-full object-cover\"\n                              onError={(e) => {\n                                console.log('Image failed to load:', track.image);\n                                // Try to show a fallback - hide the image and show the gradient background\n                                const img = e.target as HTMLImageElement;\n                                img.style.display = 'none';\n                                // Show play button immediately since image failed\n                                const playBtn = img.parentElement?.querySelector('.transition-opacity') as HTMLElement;\n                                if (playBtn) playBtn.style.opacity = '0.6';\n                              }}\n                              onLoad={() => console.log('Image loaded successfully:', track.image)}\n                            />\n                            <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                              <Play size={24} className=\"fill-white\" />\n                            </div>\n                          </>\n                        ) : (\n                          <div className=\"w-full h-full flex items-center justify-center\">\n                            <Play size={24} className=\"opacity-0 group-hover:opacity-100 transition-opacity fill-white\" />\n                          </div>\n                        )}\n                      </div>\n                      <div \n                        onClick={() => onTrackSelect(track)}\n                        className=\"flex-1 min-w-0 cursor-pointer\"\n                      >\n                        <h4 className=\"font-semibold truncate\">{track.title}</h4>\n                        <p className=\"text-sm text-zinc-400 truncate\">{track.artist}</p>\n                      </div>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          onToggleLike(track.id);\n                        }}\n                        className=\"opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center mr-2\"\n                      >\n                        <Heart \n                          size={18} \n                          className={`transition-colors ${likedSongs.has(track.id) ? 'fill-green-500 text-green-500' : 'text-zinc-400 hover:text-white'}`}\n                        />\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setShowAddToPlaylist(track);\n                        }}\n                        className=\"opacity-0 group-hover:opacity-100 px-3 py-1 bg-zinc-700 hover:bg-zinc-600 rounded-full text-xs font-semibold transition-all\"\n                      >\n                        +\n                      </button>\n                    </div>\n                    );\n                  })}\n                </div>\n              </section>\n\n              {/* Recommended for You */}\n              <section>\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h2 className=\"text-2xl font-bold\">Recommended for you</h2>\n                </div>\n                <div className=\"grid grid-cols-4 gap-4\">\n                  {allTracks.slice(6, 14).map((track, i) => {\n                    console.log('Recommended track:', track.title, 'has image:', !!track.image, track.image?.substring(0, 50) + '...');\n                    return (\n                    <div\n                      key={track.id}\n                      className=\"bg-zinc-800/40 hover:bg-zinc-800 p-4 rounded-lg transition-all group relative\"\n                    >\n                      <div \n                        onClick={() => onTrackSelect(track)}\n                        className={`w-full aspect-square bg-gradient-to-br ${mood.gradient} rounded-lg mb-4 shadow-lg relative overflow-hidden group-hover:scale-105 transition-transform cursor-pointer`}\n                      >\n                        {track.image ? (\n                          <>\n                            <img \n                              src={track.image} \n                              alt={track.title}\n                              className=\"w-full h-full object-cover\"\n                              onError={(e) => {\n                                console.log('Recommended image failed to load:', track.image);\n                                // Hide the failed image and show the gradient background\n                                const img = e.target as HTMLImageElement;\n                                img.style.display = 'none';\n                                // Show music note icon when image fails\n                                const container = img.parentElement;\n                                if (container) {\n                                  const musicNote = document.createElement('div');\n                                  musicNote.className = 'w-full h-full flex items-center justify-center';\n                                  musicNote.innerHTML = '<span class=\"text-4xl opacity-30\">üéµ</span>';\n                                  container.appendChild(musicNote);\n                                }\n                              }}\n                              onLoad={() => console.log('Recommended image loaded successfully:', track.image)}\n                            />\n                            <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                              <Play size={40} className=\"fill-white\" />\n                            </div>\n                          </>\n                        ) : (\n                          <>\n                            <div className=\"w-full h-full flex items-center justify-center\">\n                              <span className=\"text-4xl opacity-30\">üéµ</span>\n                            </div>\n                            <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                              <Play size={40} className=\"fill-white\" />\n                            </div>\n                          </>\n                        )}\n                      </div>\n                      <div onClick={() => onTrackSelect(track)} className=\"cursor-pointer\">\n                        <h3 className=\"font-semibold mb-1 truncate\">{track.title}</h3>\n                        <p className=\"text-sm text-zinc-400 truncate\">{track.artist}</p>\n                      </div>\n                      <div className=\"flex items-center gap-2 mt-2\">\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            onToggleLike(track.id);\n                          }}\n                          className=\"opacity-0 group-hover:opacity-100 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:bg-zinc-700\"\n                        >\n                          <Heart \n                            size={20} \n                            className={`transition-colors ${likedSongs.has(track.id) ? 'fill-green-500 text-green-500' : 'text-zinc-400 hover:text-white'}`}\n                          />\n                        </button>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            setShowAddToPlaylist(track);\n                          }}\n                          className=\"opacity-0 group-hover:opacity-100 ml-auto w-8 h-8 bg-green-500 hover:bg-green-400 rounded-full flex items-center justify-center font-bold text-black transition-all shadow-lg\"\n                        >\n                          +\n                        </button>\n                      </div>\n                    </div>\n                    );\n                  })}\n                </div>\n              </section>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3069, "column": 0}, "map": {"version":3,"sources":["file:///Users/mayurshadhidhar/Documents/Music-Mood-Player/client/src/components/player.tsx"],"sourcesContent":["\"use client\";\nimport { Play, Pause, SkipBack, SkipForward, Shuffle, Repeat, Volume2, Music2, Heart, Maximize2, VolumeX, Volume1, Minimize2, MoreHorizontal } from \"lucide-react\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { Track } from \"@/data/tracks\";\n\ninterface Mood {\n  name: string;\n  gradient: string;\n  bgColor: string;\n  description: string;\n}\n\ninterface PlayerProps {\n  currentTrack: Track | null;\n  mood: Mood;\n  onNextTrack: () => void;\n  onPreviousTrack: () => void;\n  isShuffled: boolean;\n  onShuffleToggle: (shouldShuffle: boolean) => void;\n  repeatMode: number;\n  onRepeatModeChange: (mode: number) => void;\n  shouldAutoPlay: boolean;\n  onAutoPlayHandled: () => void;\n  isLiked: boolean;\n  onToggleLike: () => void;\n}\n\nexport default function Player({ \n  currentTrack, \n  mood, \n  onNextTrack, \n  onPreviousTrack,\n  isShuffled,\n  onShuffleToggle,\n  repeatMode,\n  onRepeatModeChange,\n  shouldAutoPlay,\n  onAutoPlayHandled,\n  isLiked,\n  onToggleLike\n}: PlayerProps) {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [volume, setVolume] = useState(70);\n  const [progress, setProgress] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n\n  // Convert duration string (e.g., \"3:45\") to seconds\n  const durationToSeconds = (duration: string) => {\n    const [mins, secs] = duration.split(':').map(Number);\n    return mins * 60 + secs;\n  };\n\n  const totalDuration = currentTrack ? durationToSeconds(currentTrack.duration) : 225;\n\n  // Simulate playback progress\n  useEffect(() => {\n    if (isPlaying && currentTrack) {\n      const interval = setInterval(() => {\n        setCurrentTime((prev) => {\n          if (prev >= totalDuration) {\n            // Automatically play next track when current track ends\n            onNextTrack();\n            return 0;\n          }\n          return prev + 1;\n        });\n      }, 1000);\n\n      return () => clearInterval(interval);\n    }\n  }, [isPlaying, currentTrack, totalDuration, onNextTrack]);\n\n  // Update progress bar\n  useEffect(() => {\n    setProgress((currentTime / totalDuration) * 100);\n  }, [currentTime, totalDuration]);\n\n  // Initialize audio element\n  useEffect(() => {\n    audioRef.current = new Audio();\n    \n    audioRef.current.addEventListener('timeupdate', () => {\n      if (audioRef.current) {\n        setCurrentTime(audioRef.current.currentTime);\n        const duration = audioRef.current.duration || totalDuration;\n        setProgress((audioRef.current.currentTime / duration) * 100);\n      }\n    });\n\n    audioRef.current.addEventListener('ended', () => {\n      if (repeatMode === 2) {\n        // Repeat one - replay the same track\n        if (audioRef.current) {\n          audioRef.current.currentTime = 0;\n          audioRef.current.play();\n        }\n      } else {\n        onNextTrack();\n      }\n    });\n\n    audioRef.current.addEventListener('loadedmetadata', () => {\n      if (audioRef.current) {\n        setCurrentTime(0);\n      }\n    });\n\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current.src = '';\n      }\n    };\n  }, [onNextTrack, repeatMode]);\n\n  // Handle track changes\n  useEffect(() => {\n    if (currentTrack && audioRef.current) {\n      const audioUrl = currentTrack.audio || currentTrack.preview || currentTrack.audioDownload;\n      if (audioUrl) {\n        audioRef.current.src = audioUrl;\n        audioRef.current.load();\n        \n        // Auto-play if requested or if already playing\n        if (shouldAutoPlay || isPlaying) {\n          setIsPlaying(true);\n          audioRef.current.play().catch(err => {\n            console.error('Error playing audio:', err);\n            setIsPlaying(false);\n          });\n          \n          // Reset autoplay flag after handling\n          if (shouldAutoPlay) {\n            onAutoPlayHandled();\n          }\n        }\n      }\n    }\n  }, [currentTrack, shouldAutoPlay]);\n\n  // Handle play/pause\n  useEffect(() => {\n    if (audioRef.current) {\n      if (isPlaying) {\n        audioRef.current.play().catch(err => {\n          console.error('Error playing audio:', err);\n          setIsPlaying(false);\n        });\n      } else {\n        audioRef.current.pause();\n      }\n    }\n  }, [isPlaying]);\n\n  // Handle volume changes\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.volume = volume / 100;\n    }\n  }, [volume]);\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const handleProgressChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newProgress = Number(e.target.value);\n    setProgress(newProgress);\n    const newTime = (newProgress / 100) * totalDuration;\n    setCurrentTime(newTime);\n    if (audioRef.current) {\n      audioRef.current.currentTime = newTime;\n    }\n  };\n\n  const getVolumeIcon = () => {\n    if (volume === 0) return <VolumeX size={18} className=\"text-zinc-400\" />;\n    if (volume < 50) return <Volume1 size={18} className=\"text-zinc-400\" />;\n    return <Volume2 size={18} className=\"text-zinc-400\" />;\n  };\n\n  return (\n    <>\n      {/* Expanded Full Screen Player */}\n      {isExpanded && currentTrack && (\n        <div className=\"fixed inset-0 bg-gradient-to-b from-zinc-900 via-black to-black z-50 flex flex-col\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-6\">\n            <button \n              onClick={() => setIsExpanded(false)}\n              className=\"text-zinc-400 hover:text-white transition-colors\"\n            >\n              <Minimize2 size={24} />\n            </button>\n            <h2 className=\"text-sm font-semibold uppercase tracking-wider text-zinc-400\">Now Playing</h2>\n            <button className=\"text-zinc-400 hover:text-white transition-colors\">\n              <MoreHorizontal size={24} />\n            </button>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"flex-1 flex flex-col items-center justify-center px-8 pb-8\">\n            {/* Album Art */}\n            <div className={`w-96 h-96 bg-gradient-to-br ${mood.gradient} rounded-2xl shadow-2xl mb-12 overflow-hidden ${isPlaying ? 'animate-pulse' : ''}`}>\n              {currentTrack.image ? (\n                <img \n                  src={currentTrack.image} \n                  alt={currentTrack.title}\n                  className=\"w-full h-full object-cover\"\n                  onError={(e) => {\n                    e.currentTarget.style.display = 'none';\n                    const parent = e.currentTarget.parentElement;\n                    if (parent) {\n                      parent.classList.add('flex', 'items-center', 'justify-center');\n                      parent.innerHTML = '<svg width=\"120\" height=\"120\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"text-white/80\"><path d=\"M9 18V5l12-2v13\"></path><circle cx=\"6\" cy=\"18\" r=\"3\"></circle><circle cx=\"18\" cy=\"16\" r=\"3\"></circle></svg>';\n                    }\n                  }}\n                />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center\">\n                  <Music2 size={120} className=\"text-white/80\" />\n                </div>\n              )}\n            </div>\n\n            {/* Track Info */}\n            <div className=\"text-center mb-8 max-w-2xl\">\n              <h1 className=\"text-5xl font-bold mb-4\">{currentTrack.title}</h1>\n              <p className=\"text-2xl text-zinc-400\">{currentTrack.artist}</p>\n              {currentTrack.album && (\n                <p className=\"text-lg text-zinc-500 mt-2\">{currentTrack.album}</p>\n              )}\n            </div>\n\n            {/* Like Button */}\n            <button \n              onClick={onToggleLike}\n              className=\"mb-8\"\n              disabled={!currentTrack}\n            >\n              <Heart \n                size={32} \n                className={`transition-all ${isLiked ? 'fill-green-500 text-green-500 scale-110' : 'text-zinc-400 hover:text-white hover:scale-110'}`}\n              />\n            </button>\n\n            {/* Progress Bar */}\n            <div className=\"w-full max-w-3xl mb-8\">\n              <div className=\"flex items-center gap-4\">\n                <span className=\"text-sm text-zinc-400 w-12 text-right\">{formatTime(currentTime)}</span>\n                <div className=\"flex-1 group\">\n                  <input\n                    type=\"range\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={progress}\n                    onChange={handleProgressChange}\n                    className=\"w-full h-2 bg-zinc-700 rounded-full appearance-none cursor-pointer\n                      [&::-webkit-slider-thumb]:appearance-none \n                      [&::-webkit-slider-thumb]:w-4 \n                      [&::-webkit-slider-thumb]:h-4 \n                      [&::-webkit-slider-thumb]:rounded-full \n                      [&::-webkit-slider-thumb]:bg-white\n                      [&::-webkit-slider-thumb]:shadow-lg\n                      [&::-webkit-slider-track]:bg-zinc-700\n                      [&::-webkit-slider-track]:rounded-full\"\n                    style={{\n                      background: `linear-gradient(to right, white ${progress}%, rgb(63 63 70) ${progress}%)`\n                    }}\n                  />\n                </div>\n                <span className=\"text-sm text-zinc-400 w-12\">{formatTime(totalDuration)}</span>\n              </div>\n            </div>\n\n            {/* Controls */}\n            <div className=\"flex items-center gap-8 mb-8\">\n              <button \n                onClick={() => onShuffleToggle(!isShuffled)}\n                className={`transition-all ${isShuffled ? 'text-green-500 scale-110' : 'text-zinc-400 hover:text-white hover:scale-110'}`}\n              >\n                <Shuffle size={24} />\n              </button>\n              <button \n                onClick={onPreviousTrack}\n                className=\"text-zinc-400 hover:text-white hover:scale-110 transition-all\"\n              >\n                <SkipBack size={32} fill=\"currentColor\" />\n              </button>\n              <button\n                onClick={() => setIsPlaying(!isPlaying)}\n                className=\"w-16 h-16 rounded-full bg-white hover:scale-110 flex items-center justify-center transition-all shadow-2xl\"\n              >\n                {isPlaying ? (\n                  <Pause size={32} className=\"text-black\" fill=\"currentColor\" />\n                ) : (\n                  <Play size={32} className=\"text-black ml-1\" fill=\"currentColor\" />\n                )}\n              </button>\n              <button \n                onClick={onNextTrack}\n                className=\"text-zinc-400 hover:text-white hover:scale-110 transition-all\"\n              >\n                <SkipForward size={32} fill=\"currentColor\" />\n              </button>\n              <button \n                onClick={() => onRepeatModeChange((repeatMode + 1) % 3)}\n                className={`transition-all relative ${repeatMode > 0 ? 'text-green-500 scale-110' : 'text-zinc-400 hover:text-white hover:scale-110'}`}\n              >\n                <Repeat size={24} />\n                {repeatMode === 2 && <span className=\"text-xs absolute -bottom-1 left-1/2 -translate-x-1/2\">1</span>}\n              </button>\n            </div>\n\n            {/* Volume Control */}\n            <div className=\"flex items-center gap-4 w-96\">\n              <button onClick={() => setVolume(volume === 0 ? 70 : 0)} className=\"text-zinc-400 hover:text-white transition-colors flex-shrink-0\">\n                {volume === 0 ? <VolumeX size={24} /> : volume < 50 ? <Volume1 size={24} /> : <Volume2 size={24} />}\n              </button>\n              <div className=\"flex-1 group\">\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"100\"\n                  value={volume}\n                  onChange={(e) => setVolume(Number(e.target.value))}\n                  className=\"w-full h-2 bg-zinc-700 rounded-full appearance-none cursor-pointer\n                    [&::-webkit-slider-thumb]:appearance-none \n                    [&::-webkit-slider-thumb]:w-4 \n                    [&::-webkit-slider-thumb]:h-4 \n                    [&::-webkit-slider-thumb]:rounded-full \n                    [&::-webkit-slider-thumb]:bg-white\n                    [&::-webkit-slider-thumb]:shadow-lg\n                    [&::-webkit-slider-track]:bg-zinc-700\n                    [&::-webkit-slider-track]:rounded-full\"\n                  style={{\n                    background: `linear-gradient(to right, white ${volume}%, rgb(63 63 70) ${volume}%)`\n                  }}\n                />\n              </div>\n              <span className=\"text-sm text-zinc-400 w-14 text-right flex-shrink-0\">{volume}%</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Compact Bottom Player */}\n      <div className=\"bg-zinc-900 border-t border-zinc-800 px-4 py-3\">\n        <div className=\"flex items-center justify-between gap-4\">\n          {/* Left: Now Playing Info */}\n          <div className=\"flex items-center gap-4 w-1/4 min-w-[180px]\">\n            <div \n              onClick={() => currentTrack && setIsExpanded(true)}\n              className={`w-14 h-14 bg-gradient-to-br ${mood.gradient} rounded flex-shrink-0 shadow-lg overflow-hidden ${isPlaying ? 'animate-pulse' : ''} ${currentTrack ? 'cursor-pointer hover:scale-105' : ''} transition-transform`}\n            >\n              {currentTrack?.image ? (\n                <img \n                  src={currentTrack.image} \n                  alt={currentTrack.title}\n                  className=\"w-full h-full object-cover\"\n                  onError={(e) => {\n                    e.currentTarget.style.display = 'none';\n                    const parent = e.currentTarget.parentElement;\n                    if (parent) {\n                      parent.classList.add('flex', 'items-center', 'justify-center');\n                      parent.innerHTML = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"text-white\"><path d=\"M9 18V5l12-2v13\"></path><circle cx=\"6\" cy=\"18\" r=\"3\"></circle><circle cx=\"18\" cy=\"16\" r=\"3\"></circle></svg>';\n                    }\n                  }}\n                />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center\">\n                  <Music2 size={24} className=\"text-white\" />\n                </div>\n              )}\n            </div>\n            <div \n              onClick={() => currentTrack && setIsExpanded(true)}\n              className={`flex-1 min-w-0 ${currentTrack ? 'cursor-pointer' : ''}`}\n            >\n              <div className={`text-sm font-medium truncate ${currentTrack ? 'text-white hover:underline' : 'text-zinc-500'}`}>\n                {currentTrack?.title || \"No track selected\"}\n              </div>\n              <div className=\"text-xs text-zinc-400 truncate\">\n                {currentTrack?.artist || \"Choose a song to play\"}\n              </div>\n            </div>\n            <button \n              onClick={onToggleLike}\n              className=\"flex-shrink-0\"\n              disabled={!currentTrack}\n            >\n              <Heart \n                size={18} \n                className={`transition-colors ${isLiked ? 'fill-green-500 text-green-500' : currentTrack ? 'text-zinc-400 hover:text-white' : 'text-zinc-600'}`}\n              />\n            </button>\n          </div>\n\n        {/* Center: Player Controls */}\n        <div className=\"flex flex-col items-center gap-2 w-2/4 max-w-[722px]\">\n          <div className=\"flex items-center gap-4\">\n            <button \n              onClick={() => onShuffleToggle(!isShuffled)}\n              className={`transition-colors ${isShuffled ? 'text-green-500' : 'text-zinc-400 hover:text-white'}`}\n            >\n              <Shuffle size={18} />\n            </button>\n            <button \n              onClick={onPreviousTrack}\n              className=\"text-zinc-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <SkipBack size={20} fill=\"currentColor\" />\n            </button>\n            <button\n              onClick={() => setIsPlaying(!isPlaying)}\n              disabled={!currentTrack}\n              className={`w-10 h-10 rounded-full flex items-center justify-center transition-transform ${\n                currentTrack \n                  ? 'bg-white hover:scale-105' \n                  : 'bg-zinc-700 cursor-not-allowed'\n              }`}\n            >\n              {isPlaying ? (\n                <Pause size={20} className={currentTrack ? 'text-black' : 'text-zinc-500'} fill=\"currentColor\" />\n              ) : (\n                <Play size={20} className={`${currentTrack ? 'text-black' : 'text-zinc-500'} ml-0.5`} fill=\"currentColor\" />\n              )}\n            </button>\n            <button \n              onClick={onNextTrack}\n              className=\"text-zinc-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <SkipForward size={20} fill=\"currentColor\" />\n            </button>\n            <button \n              onClick={() => onRepeatModeChange((repeatMode + 1) % 3)}\n              className={`transition-colors ${repeatMode > 0 ? 'text-green-500' : 'text-zinc-400 hover:text-white'}`}\n            >\n              <Repeat size={18} />\n              {repeatMode === 2 && <span className=\"text-[10px] absolute\">1</span>}\n            </button>\n          </div>\n          \n          {/* Progress Bar */}\n          <div className=\"flex items-center gap-2 w-full\">\n            <span className=\"text-xs text-zinc-400 w-10 text-right\">{formatTime(currentTime)}</span>\n            <div className=\"flex-1 group\">\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"100\"\n                value={progress}\n                onChange={handleProgressChange}\n                disabled={!currentTrack}\n                className={`w-full h-1 bg-zinc-600 rounded-full appearance-none ${currentTrack ? 'cursor-pointer' : 'cursor-not-allowed'}\n                  [&::-webkit-slider-thumb]:appearance-none \n                  [&::-webkit-slider-thumb]:w-3 \n                  [&::-webkit-slider-thumb]:h-3 \n                  [&::-webkit-slider-thumb]:rounded-full \n                  [&::-webkit-slider-thumb]:bg-white\n                  [&::-webkit-slider-thumb]:opacity-0\n                  group-hover:[&::-webkit-slider-thumb]:opacity-100\n                  [&::-webkit-slider-track]:bg-zinc-600\n                  [&::-webkit-slider-track]:rounded-full`}\n                style={{\n                  background: currentTrack \n                    ? `linear-gradient(to right, white ${progress}%, rgb(82 82 91) ${progress}%)`\n                    : 'rgb(82 82 91)'\n                }}\n              />\n            </div>\n            <span className=\"text-xs text-zinc-400 w-10\">{formatTime(totalDuration)}</span>\n          </div>\n        </div>\n\n        {/* Right: Volume Control */}\n        <div className=\"flex items-center justify-end gap-3 w-1/4 min-w-[180px]\">\n          <button \n            onClick={() => currentTrack && setIsExpanded(true)}\n            disabled={!currentTrack}\n            className={`transition-colors ${currentTrack ? 'text-zinc-400 hover:text-white' : 'text-zinc-600 cursor-not-allowed'}`}\n          >\n            <Maximize2 size={18} />\n          </button>\n          <button onClick={() => setVolume(volume === 0 ? 70 : 0)} className=\"hover:text-white transition-colors\">\n            {getVolumeIcon()}\n          </button>\n          <div className=\"w-24 group\">\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"100\"\n              value={volume}\n              onChange={(e) => setVolume(Number(e.target.value))}\n              className=\"w-full h-1 bg-zinc-600 rounded-full appearance-none cursor-pointer\n                [&::-webkit-slider-thumb]:appearance-none \n                [&::-webkit-slider-thumb]:w-3 \n                [&::-webkit-slider-thumb]:h-3 \n                [&::-webkit-slider-thumb]:rounded-full \n                [&::-webkit-slider-thumb]:bg-white\n                [&::-webkit-slider-thumb]:opacity-0\n                group-hover:[&::-webkit-slider-thumb]:opacity-100\n                [&::-webkit-slider-track]:bg-zinc-600\n                [&::-webkit-slider-track]:rounded-full\"\n              style={{\n                background: `linear-gradient(to right, white ${volume}%, rgb(82 82 91) ${volume}%)`\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4023, "column": 0}, "map": {"version":3,"sources":["file:///Users/mayurshadhidhar/Documents/Music-Mood-Player/client/src/components/Queue.tsx"],"sourcesContent":["\"use client\";\nimport { Play, Music2, MoreVertical, Loader2, Shuffle } from \"lucide-react\";\nimport { Track } from \"@/data/tracks\";\n\ninterface QueueProps {\n  currentTrack: Track | null;\n  setCurrentTrack: (track: Track) => void;\n  allTracks: Track[];\n  isLoading?: boolean;\n  isShuffled?: boolean;\n}\n\nexport default function Queue({ currentTrack, setCurrentTrack, allTracks, isLoading, isShuffled }: QueueProps) {\n  const tracks: Track[] = allTracks;\n\n  return (\n    <div className=\"flex-1 overflow-y-auto p-6\">\n      <div className=\"flex items-center gap-2 mb-4\">\n        <h2 className=\"text-xl font-bold\">Queue</h2>\n        {isShuffled && (\n          <div className=\"flex items-center gap-1 text-xs text-green-500 bg-green-500/10 px-2 py-1 rounded-full animate-pulse\">\n            <Shuffle size={12} />\n            <span>Shuffled</span>\n          </div>\n        )}\n      </div>\n      \n      {isLoading ? (\n        <div className=\"flex items-center justify-center py-12\">\n          <Loader2 className=\"animate-spin text-zinc-400\" size={32} />\n        </div>\n      ) : tracks.length === 0 ? (\n        <div className=\"text-center py-12 text-zinc-400\">\n          <Music2 size={48} className=\"mx-auto mb-4 opacity-50\" />\n          <p>No tracks available</p>\n          <p className=\"text-sm mt-2\">Try selecting a different mood</p>\n        </div>\n      ) : (\n        <div className=\"space-y-1\">\n        {tracks.map((track, i) => (\n          <div\n            key={`${track.id}-${i}`}\n            onClick={() => setCurrentTrack(track)}\n            className={`group flex items-center gap-3 p-2 rounded-md hover:bg-zinc-800 cursor-pointer transition-all duration-300 ${\n              currentTrack?.id === track.id ? \"bg-zinc-800\" : \"\"\n            } ${isShuffled ? 'animate-slideIn' : ''}`}\n            style={{\n              animationDelay: isShuffled ? `${i * 30}ms` : '0ms'\n            }}\n          >\n            <div className=\"w-8 text-center text-zinc-400 text-sm\">\n              {currentTrack?.id === track.id ? (\n                <Music2 size={16} className=\"inline text-green-500\" />\n              ) : (\n                <span className=\"group-hover:hidden\">{i + 1}</span>\n              )}\n              <Play\n                size={16}\n                className=\"hidden group-hover:inline text-white\"\n              />\n            </div>\n            <div className=\"w-10 h-10 bg-zinc-700 rounded flex-shrink-0 overflow-hidden\">\n              {track.image ? (\n                <img \n                  src={track.image} \n                  alt={track.title}\n                  className=\"w-full h-full object-cover\"\n                  onError={(e) => {\n                    e.currentTarget.style.display = 'none';\n                    e.currentTarget.parentElement!.innerHTML = '<div class=\"w-full h-full flex items-center justify-center\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"text-zinc-500\"><path d=\"M9 18V5l12-2v13\"></path><circle cx=\"6\" cy=\"18\" r=\"3\"></circle><circle cx=\"18\" cy=\"16\" r=\"3\"></circle></svg></div>';\n                  }}\n                />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center\">\n                  <Music2 size={20} className=\"text-zinc-500\" />\n                </div>\n              )}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <div className={`text-sm font-medium truncate ${\n                currentTrack?.id === track.id ? \"text-green-500\" : \"text-white\"\n              }`}>\n                {track.title}\n              </div>\n              <div className=\"text-xs text-zinc-400 truncate\">{track.artist}</div>\n            </div>\n            <div className=\"text-xs text-zinc-400\">{track.duration}</div>\n            <button className=\"opacity-0 group-hover:opacity-100 transition-opacity\">\n              <MoreVertical size={18} className=\"text-zinc-400 hover:text-white\" />\n            </button>\n          </div>\n        ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AAAA;AADA;;;AAYe,SAAS,MAAM,EAAE,YAAY,EAAE,eAAe,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAc;IAC3G,MAAM,SAAkB;IAExB,qBACE,uMAAC;QAAI,WAAU;;0BACb,uMAAC;gBAAI,WAAU;;kCACb,uMAAC;wBAAG,WAAU;kCAAoB;;;;;;oBACjC,4BACC,uMAAC;wBAAI,WAAU;;0CACb,uMAAC,gOAAO;gCAAC,MAAM;;;;;;0CACf,uMAAC;0CAAK;;;;;;;;;;;;;;;;;;YAKX,0BACC,uMAAC;gBAAI,WAAU;0BACb,cAAA,uMAAC,yOAAO;oBAAC,WAAU;oBAA6B,MAAM;;;;;;;;;;uBAEtD,OAAO,MAAM,KAAK,kBACpB,uMAAC;gBAAI,WAAU;;kCACb,uMAAC,iOAAM;wBAAC,MAAM;wBAAI,WAAU;;;;;;kCAC5B,uMAAC;kCAAE;;;;;;kCACH,uMAAC;wBAAE,WAAU;kCAAe;;;;;;;;;;;qCAG9B,uMAAC;gBAAI,WAAU;0BACd,OAAO,GAAG,CAAC,CAAC,OAAO,kBAClB,uMAAC;wBAEC,SAAS,IAAM,gBAAgB;wBAC/B,WAAW,CAAC,0GAA0G,EACpH,cAAc,OAAO,MAAM,EAAE,GAAG,gBAAgB,GACjD,CAAC,EAAE,aAAa,oBAAoB,IAAI;wBACzC,OAAO;4BACL,gBAAgB,aAAa,GAAG,IAAI,GAAG,EAAE,CAAC,GAAG;wBAC/C;;0CAEA,uMAAC;gCAAI,WAAU;;oCACZ,cAAc,OAAO,MAAM,EAAE,iBAC5B,uMAAC,iOAAM;wCAAC,MAAM;wCAAI,WAAU;;;;;6DAE5B,uMAAC;wCAAK,WAAU;kDAAsB,IAAI;;;;;;kDAE5C,uMAAC,uNAAI;wCACH,MAAM;wCACN,WAAU;;;;;;;;;;;;0CAGd,uMAAC;gCAAI,WAAU;0CACZ,MAAM,KAAK,iBACV,uMAAC;oCACC,KAAK,MAAM,KAAK;oCAChB,KAAK,MAAM,KAAK;oCAChB,WAAU;oCACV,SAAS,CAAC;wCACR,EAAE,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG;wCAChC,EAAE,aAAa,CAAC,aAAa,CAAE,SAAS,GAAG;oCAC7C;;;;;yDAGF,uMAAC;oCAAI,WAAU;8CACb,cAAA,uMAAC,iOAAM;wCAAC,MAAM;wCAAI,WAAU;;;;;;;;;;;;;;;;0CAIlC,uMAAC;gCAAI,WAAU;;kDACb,uMAAC;wCAAI,WAAW,CAAC,6BAA6B,EAC5C,cAAc,OAAO,MAAM,EAAE,GAAG,mBAAmB,cACnD;kDACC,MAAM,KAAK;;;;;;kDAEd,uMAAC;wCAAI,WAAU;kDAAkC,MAAM,MAAM;;;;;;;;;;;;0CAE/D,uMAAC;gCAAI,WAAU;0CAAyB,MAAM,QAAQ;;;;;;0CACtD,uMAAC;gCAAO,WAAU;0CAChB,cAAA,uMAAC,uPAAY;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;;uBA/C/B,GAAG,MAAM,EAAE,CAAC,CAAC,EAAE,GAAG;;;;;;;;;;;;;;;;AAuDnC;KApFwB","debugId":null}},
    {"offset": {"line": 4277, "column": 0}, "map": {"version":3,"sources":["file:///Users/mayurshadhidhar/Documents/Music-Mood-Player/client/src/components/AuthModal.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { X } from \"lucide-react\";\n\ninterface AuthModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onAuthSuccess: (token: string, user: any) => void;\n}\n\nexport default function AuthModal({ isOpen, onClose, onAuthSuccess }: AuthModalProps) {\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  if (!isOpen) return null;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      const endpoint = isLogin ? \"/api/auth/login\" : \"/api/auth/signup\";\n      const body = isLogin\n        ? { email, password }\n        : { email, password, name };\n\n      const response = await fetch(`http://localhost:5001${endpoint}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(body),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Authentication failed\");\n      }\n\n      // Store token in localStorage\n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n\n      // Call success callback\n      onAuthSuccess(data.token, data.user);\n\n      // Reset form\n      setEmail(\"\");\n      setPassword(\"\");\n      setName(\"\");\n      onClose();\n    } catch (err: any) {\n      setError(err.message || \"Something went wrong\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50\">\n      <div className=\"bg-zinc-900 rounded-lg p-8 w-full max-w-md relative\">\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 text-zinc-400 hover:text-white\"\n        >\n          <X size={24} />\n        </button>\n\n        <h2 className=\"text-3xl font-bold mb-6\">\n          {isLogin ? \"Login\" : \"Sign Up\"}\n        </h2>\n\n        {error && (\n          <div className=\"bg-red-500/20 border border-red-500 text-red-500 px-4 py-3 rounded mb-4\">\n            {error}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {!isLogin && (\n            <div>\n              <label className=\"block text-sm font-semibold mb-2\">Name</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                placeholder=\"Your name\"\n                required\n              />\n            </div>\n          )}\n\n          <div>\n            <label className=\"block text-sm font-semibold mb-2\">Email</label>\n            <input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500\"\n              placeholder=\"your@email.com\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold mb-2\">Password</label>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500\"\n              placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n              required\n              minLength={6}\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-green-500 hover:bg-green-400 text-black font-semibold py-3 rounded-full transition-colors disabled:opacity-50\"\n          >\n            {loading ? \"Loading...\" : isLogin ? \"Login\" : \"Sign Up\"}\n          </button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <button\n            onClick={() => {\n              setIsLogin(!isLogin);\n              setError(\"\");\n            }}\n            className=\"text-green-500 hover:text-green-400 text-sm\"\n          >\n            {isLogin\n              ? \"Don't have an account? Sign up\"\n              : \"Already have an account? Login\"}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4522, "column": 0}, "map": {"version":3,"sources":["file:///Users/mayurshadhidhar/Documents/Music-Mood-Player/client/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\n\nimport MoodSelect from \"@/components/moodSelector\";\nimport Dashboard from \"@/components/dashboard\";\nimport Player from \"@/components/player\";\nimport Queue from \"@/components/Queue\";\nimport AuthModal from \"@/components/AuthModal\";\nimport { Track } from \"@/data/tracks\";\nimport { fetchTracksByMood } from \"@/services/musicService\";\nimport { \n  getCurrentUser, \n  logout as apiLogout,\n  getUserPlaylists,\n  getLikedSongs,\n  createPlaylist as apiCreatePlaylist,\n  deletePlaylist as apiDeletePlaylist,\n  addTrackToPlaylist as apiAddTrackToPlaylist,\n  removeTrackFromPlaylist as apiRemoveTrackFromPlaylist,\n  likeSong as apiLikeSong,\n  unlikeSong as apiUnlikeSong,\n} from \"@/services/authService\";\n\nconst moods = [\n  { \n    name: \"Happy\", \n    gradient: \"from-yellow-300 via-yellow-400 to-amber-500\",\n    bgColor: \"#FFC107\",\n    description: \"Uplifting and energetic vibes\"\n  },\n  { \n    name: \"Sad\", \n    gradient: \"from-blue-900 via-blue-700 to-blue-500\",\n    bgColor: \"#1976D2\",\n    description: \"Melancholic and reflective tunes\"\n  },\n  { \n    name: \"Chill\", \n    gradient: \"from-teal-600 via-green-600 to-emerald-700\",\n    bgColor: \"#00897B\",\n    description: \"Relaxed and laid-back sounds\"\n  },\n  { \n    name: \"Focused\", \n    gradient: \"from-purple-600 via-purple-500 to-pink-500\",\n    bgColor: \"#7E57C2\",\n    description: \"Deep concentration music\"\n  },\n];\n\nexport default function HomePage() {\n  const [mood, setMood] = useState(\"Chill\");\n  const [currentTrack, setCurrentTrack] = useState<Track | null>(null);\n  const [allTracks, setAllTracks] = useState<Track[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isShuffled, setIsShuffled] = useState(false);\n  const [repeatMode, setRepeatMode] = useState(0); // 0: off, 1: repeat all, 2: repeat one\n  const [originalTracksOrder, setOriginalTracksOrder] = useState<Track[]>([]);\n  const [playbackQueue, setPlaybackQueue] = useState<Track[]>([]);\n  const [shouldAutoPlay, setShouldAutoPlay] = useState(false);\n  const [likedSongs, setLikedSongs] = useState<Set<string>>(new Set());\n  const [likedSongsTracks, setLikedSongsTracks] = useState<Track[]>([]); // Actual track objects\n  \n  // Auth state\n  const [user, setUser] = useState<any>(null);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [isLoadingAuth, setIsLoadingAuth] = useState(true);\n  \n  const currentMood = moods.find((m) => m.name === mood) || moods[2];\n\n  // Handle track selection with autoplay\n  const handleTrackSelect = (track: Track) => {\n    setCurrentTrack(track);\n    setShouldAutoPlay(true);\n  };\n\n  // Handle playing a playlist (replaces queue)\n  const handlePlayPlaylist = (tracks: Track[]) => {\n    if (tracks.length > 0) {\n      setAllTracks(tracks);\n      setOriginalTracksOrder(tracks);\n      setPlaybackQueue(tracks);\n      setCurrentTrack(tracks[0]);\n      setShouldAutoPlay(true);\n      setIsShuffled(false); // Reset shuffle when playing a new playlist\n    }\n  };\n\n  // Handle authentication success\n  const handleAuthSuccess = async (token: string, userData: any) => {\n    setUser(userData);\n    // Load user's playlists and liked songs\n    try {\n      const likedTracks = await getLikedSongs();\n      const likedIds = new Set<string>(likedTracks.map((track: Track) => track.id));\n      setLikedSongs(likedIds);\n      setLikedSongsTracks(likedTracks);\n    } catch (error) {\n      console.error('Error loading user data:', error);\n    }\n  };\n\n  // Handle logout\n  const handleLogout = () => {\n    apiLogout();\n    setUser(null);\n    setLikedSongs(new Set());\n    setLikedSongsTracks([]);\n  };\n\n  // Auto-login on mount\n  useEffect(() => {\n    const checkAuth = async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          const { user: userData } = await getCurrentUser();\n          setUser(userData);\n          \n          // Load user's liked songs\n          const likedTracks = userData.likedSongs || [];\n          const likedIds = new Set<string>(likedTracks.map((track: Track) => track.id));\n          setLikedSongs(likedIds);\n          setLikedSongsTracks(likedTracks);\n        } catch (error) {\n          console.error('Auth check failed:', error);\n          localStorage.removeItem('token');\n          localStorage.removeItem('user');\n        }\n      }\n      setIsLoadingAuth(false);\n    };\n    checkAuth();\n  }, []);\n\n  // Toggle like for a track (with API integration)\n  const toggleLike = async (trackId: string) => {\n    if (!user) {\n      // If not logged in, show auth modal\n      setShowAuthModal(true);\n      return;\n    }\n\n    const track = allTracks.find(t => t.id === trackId) || \n                  playbackQueue.find(t => t.id === trackId) ||\n                  likedSongsTracks.find(t => t.id === trackId) ||\n                  currentTrack;\n    \n    if (!track) return;\n\n    const isLiked = likedSongs.has(trackId);\n\n    // Optimistic update\n    setLikedSongs(prev => {\n      const newLiked = new Set(prev);\n      if (isLiked) {\n        newLiked.delete(trackId);\n      } else {\n        newLiked.add(trackId);\n      }\n      return newLiked;\n    });\n\n    // Update liked songs tracks array\n    if (isLiked) {\n      setLikedSongsTracks(prev => prev.filter(t => t.id !== trackId));\n    } else {\n      setLikedSongsTracks(prev => [...prev, track]);\n    }\n\n    try {\n      if (isLiked) {\n        await apiUnlikeSong(trackId);\n      } else {\n        await apiLikeSong(track);\n      }\n    } catch (error) {\n      console.error('Error toggling like:', error);\n      // Revert on error\n      setLikedSongs(prev => {\n        const newLiked = new Set(prev);\n        if (isLiked) {\n          newLiked.add(trackId);\n        } else {\n          newLiked.delete(trackId);\n        }\n        return newLiked;\n      });\n      // Revert tracks array\n      if (isLiked) {\n        setLikedSongsTracks(prev => [...prev, track]);\n      } else {\n        setLikedSongsTracks(prev => prev.filter(t => t.id !== trackId));\n      }\n    }\n  };\n\n  // Fetch tracks when mood changes\n  useEffect(() => {\n    const loadTracks = async () => {\n      setIsLoading(true);\n      const tracks = await fetchTracksByMood(mood, 30);\n      console.log('Loaded tracks for mood:', mood, tracks.slice(0, 3).map(t => ({ title: t.title, image: t.image })));\n      setAllTracks(tracks);\n      setOriginalTracksOrder(tracks);\n      setPlaybackQueue(tracks);\n      setIsLoading(false);\n    };\n    loadTracks();\n  }, [mood]);\n\n  // Shuffle function\n  const shuffleArray = (array: Track[]) => {\n    const shuffled = [...array];\n    for (let i = shuffled.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n    }\n    return shuffled;\n  };\n\n  const handleShuffle = (shouldShuffle: boolean) => {\n    setIsShuffled(shouldShuffle);\n    if (shouldShuffle) {\n      // Keep current track at the front, shuffle the rest\n      if (currentTrack) {\n        const otherTracks = allTracks.filter(t => t.id !== currentTrack.id);\n        const shuffled = shuffleArray(otherTracks);\n        const newQueue = [currentTrack, ...shuffled];\n        setPlaybackQueue(newQueue);\n      } else {\n        const shuffled = shuffleArray(allTracks);\n        setPlaybackQueue(shuffled);\n      }\n    } else {\n      // Restore original order\n      setPlaybackQueue(originalTracksOrder);\n    }\n  };\n\n  const handleRepeatMode = (mode: number) => {\n    setRepeatMode(mode);\n  };\n\n  const handleNextTrack = () => {\n    if (playbackQueue.length === 0) return;\n    \n    if (!currentTrack) {\n      setCurrentTrack(playbackQueue[0]);\n      return;\n    }\n\n    // Repeat one mode - replay the same track\n    if (repeatMode === 2) {\n      // Just restart the same track (player will handle this)\n      return;\n    }\n\n    const currentIndex = playbackQueue.findIndex((track: Track) => track.id === currentTrack.id);\n    const nextIndex = (currentIndex + 1) % playbackQueue.length;\n    \n    // If repeat all is off and we're at the end, stop\n    if (repeatMode === 0 && currentIndex === playbackQueue.length - 1) {\n      return;\n    }\n\n    setCurrentTrack(playbackQueue[nextIndex]);\n  };\n\n  const handlePreviousTrack = () => {\n    if (playbackQueue.length === 0) return;\n    \n    if (!currentTrack) {\n      setCurrentTrack(playbackQueue[0]);\n      return;\n    }\n    const currentIndex = playbackQueue.findIndex((track: Track) => track.id === currentTrack.id);\n    const previousIndex = currentIndex === 0 ? playbackQueue.length - 1 : currentIndex - 1;\n    setCurrentTrack(playbackQueue[previousIndex]);\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col bg-black text-white overflow-hidden\">\n      {/* Auth Modal */}\n      <AuthModal \n        isOpen={showAuthModal}\n        onClose={() => setShowAuthModal(false)}\n        onAuthSuccess={handleAuthSuccess}\n      />\n\n      <div className=\"flex flex-1 overflow-hidden min-h-0\">\n        {/* Left: Dashboard */}\n        <Dashboard \n          mood={currentMood} \n          onTrackSelect={handleTrackSelect} \n          onPlayPlaylist={handlePlayPlaylist}\n          allTracks={allTracks}\n          likedSongs={likedSongs}\n          likedSongsTracks={likedSongsTracks}\n          onToggleLike={toggleLike}\n          user={user}\n          onShowAuth={() => setShowAuthModal(true)}\n          onLogout={handleLogout}\n        />\n\n        {/* Right: Mood Select + Queue */}\n        <div className=\"flex flex-col w-80 bg-zinc-900 border-l border-zinc-800\">\n          <MoodSelect mood={mood} setMood={setMood} moods={moods} />\n          <Queue \n            currentTrack={currentTrack} \n            setCurrentTrack={handleTrackSelect}\n            allTracks={playbackQueue}\n            isLoading={isLoading}\n            isShuffled={isShuffled}\n          />\n        </div>\n      </div>\n\n      {/* Bottom Player - Always Visible */}\n      <div className=\"flex-shrink-0\">\n        <Player \n          currentTrack={currentTrack} \n          mood={currentMood}\n          onNextTrack={handleNextTrack}\n          onPreviousTrack={handlePreviousTrack}\n          isShuffled={isShuffled}\n          onShuffleToggle={handleShuffle}\n          repeatMode={repeatMode}\n          onRepeatModeChange={handleRepeatMode}\n          shouldAutoPlay={shouldAutoPlay}\n          onAutoPlayHandled={() => setShouldAutoPlay(false)}\n          isLiked={currentTrack ? likedSongs.has(currentTrack.id) : false}\n          onToggleLike={() => currentTrack && toggleLike(currentTrack.id)}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}